# ğŸ”„ SYSTEM WORKFLOW MONTER-SPRZEDAWCA

## ğŸ“– Opis systemu

Nowy system umoÅ¼liwia dwuetapowe wypeÅ‚nianie formularzy:
1. **Monter** - wykonuje pomiary i specyfikacjÄ™ technicznÄ…
2. **Sprzedawca** - uzupeÅ‚nia dane produktu i finalizuje zamÃ³wienie

## ğŸš€ Jak to dziaÅ‚a?

### Etap 1: Monter ğŸ‘·â€â™‚ï¸
1. Otwiera stronÄ™ **"Monter"**
2. Wybiera tryb **"ğŸ”§ Pomiary (Monter)"**
3. WypeÅ‚nia swoje ID i dane pomiarÃ³w
4. Zapisuje formularz
5. **Otrzymuje kod dostÄ™pu i QR kod**
6. Przekazuje kod sprzedawcy

### Etap 2: Sprzedawca ğŸ‘”
1. Otwiera stronÄ™ **"Monter"**
2. Wybiera tryb **"ğŸ’¼ SprzedaÅ¼ (Sprzedawca)"**
3. Ma dwie opcje dostÄ™pu:
   - **ğŸ”‘ Kod dostÄ™pu** - wprowadza kod od montera
   - **ğŸ“‹ Lista formularzy** - wybiera z listy oczekujÄ…cych
4. UzupeÅ‚nia dane produktu
5. Finalizuje zamÃ³wienie

## ğŸ“± Sposoby udostÄ™pniania

### 1. Kod dostÄ™pu
- **Format:** 8-znakowy kod (np. `AB12CD34`)
- **UÅ¼ycie:** Monter podaje kod sprzedawcy
- **Bezpieczny:** Unikalny dla kaÅ¼dego formularza

### 2. QR Code
- **Automatyczne generowanie** przy zapisie pomiarÃ³w
- **Zawiera:** Kod dostÄ™pu + ID formularza + typ
- **UÅ¼ycie:** Sprzedawca skanuje QR code

### 3. Lista formularzy
- **Sprzedawca** widzi wszystkie formularze oczekujÄ…ce
- **Filtry:** Data, klient, pomieszczenie
- **WybÃ³r:** KlikniÄ™cie na formularz

## ğŸ”„ Statusy formularzy

| Status | Opis | Ikona |
|--------|------|-------|
| `pomiary_wykonane` | Monter zakoÅ„czyÅ‚ pomiary | ğŸ“ |
| `aktywny` | Sprzedawca sfinalizowaÅ‚ | âœ… |
| `zakoÅ„czony` | ZamÃ³wienie zakoÅ„czone | ğŸ |
| `anulowany` | ZamÃ³wienie anulowane | âŒ |

## ğŸ” Åšledzenie procesu

### W przeglÄ…d danych:
- **Etap:** Pokazuje czy pomiary czy kompletny
- **WypeÅ‚niÅ‚:** Kto wypeÅ‚niÅ‚ (Monter/Sprzedawca)
- **Kod dostÄ™pu:** Widoczny dla montera/sprzedawcy
- **Data pomiarÃ³w/sprzedaÅ¼y:** Kiedy zostaÅ‚ wypeÅ‚niony kaÅ¼dy etap

## ğŸ’¡ Zalety systemu

### âœ… Dla montera:
- Skupia siÄ™ tylko na pomiarach
- Nie musi znaÄ‡ wszystkich produktÃ³w
- Szybkie wypeÅ‚nianie
- Bezpieczne udostÄ™pnianie

### âœ… Dla sprzedawcy:
- DostÄ™p do pomiarÃ³w z terenu
- MoÅ¼e pracowaÄ‡ zdalnie
- Skupia siÄ™ na sprzedaÅ¼y
- Wszystkie informacje techniczne dostÄ™pne

### âœ… Dla firmy:
- Lepszy podziaÅ‚ pracy
- Szybsza obsÅ‚uga klientÃ³w
- Mniej bÅ‚Ä™dÃ³w
- PeÅ‚na kontrola procesu

## ğŸ› ï¸ Instrukcja uÅ¼ytkowania

### Dla montera:

1. **OtwÃ³rz aplikacjÄ™** na telefonie/tablecie
2. **IdÅº do strony "Monter"**
3. **Wybierz "ğŸ”§ Pomiary (Monter)"**
4. **Wybierz co mierzysz:** ğŸšª Drzwi lub ğŸ  PodÅ‚ogi
5. **WprowadÅº swoje ID** (np. nazwisko lub kod)

#### Dla drzwi:
6. **WypeÅ‚nij podstawowe informacje:**
   - Pomieszczenie, Nazwisko klienta, Telefon klienta
7. **Wykonaj i wprowadÅº pomiary:**
   - SzerokoÅ›Ä‡/wysokoÅ›Ä‡ otworu
   - GruboÅ›Ä‡ muru, Stan Å›ciany
   - Typ drzwi, Strona otwierania
8. **Kliknij "ğŸ’¾ Zapisz pomiary"**

#### Dla podÅ‚Ã³g:
6. **WypeÅ‚nij podstawowe informacje:**
   - Pomieszczenie, Telefon klienta
7. **Wybierz system montaÅ¼u** (symetrycznie/niesymetrycznie)
8. **WprowadÅº specyfikacjÄ™:**
   - PodkÅ‚ad, czy MDF moÅ¼liwy
9. **WprowadÅº pomiary listw:** NW, NZ, Å, ZL, ZP
10. **Podaj listwy progowe:** jaka, ile, gdzie
11. **Kliknij "ğŸ’¾ Zapisz pomiary podÅ‚Ã³g"**

#### Finalnie:
9. **PrzekaÅ¼ sprzedawcy:**
   - Kod dostÄ™pu (8 znakÃ³w)
   - LUB QR code do zeskanowania

### Dla sprzedawcy:

#### Opcja A: Kod dostÄ™pu
1. **OtwÃ³rz aplikacjÄ™**
2. **IdÅº do strony "Monter"**
3. **Wybierz "ğŸ’¼ SprzedaÅ¼ (Sprzedawca)"**
4. **Wybierz typ produktu:** ğŸšª Drzwi lub ğŸ  PodÅ‚ogi
5. **Wybierz "ğŸ”‘ Kod dostÄ™pu"**
6. **WprowadÅº kod** otrzymany od montera
7. **Kliknij "ğŸ” ZnajdÅº formularz"**

#### Opcja B: Lista formularzy
1. **OtwÃ³rz aplikacjÄ™**
2. **IdÅº do strony "Monter"**
3. **Wybierz "ğŸ’¼ SprzedaÅ¼ (Sprzedawca)"**
4. **Wybierz typ produktu:** ğŸšª Drzwi lub ğŸ  PodÅ‚ogi
5. **Wybierz "ğŸ“‹ Lista formularzy do uzupeÅ‚nienia"**
6. **Wybierz formularz** z listy

#### Dalsze kroki dla drzwi:
7. **SprawdÅº pomiary** (sekcja tylko do odczytu)
8. **WprowadÅº swoje ID**
9. **WypeÅ‚nij dane produktu:**
   - Producent, seria, typ
   - Rodzaj okleiny, szyby
   - Zamek, klamka, dodatki
10. **Dodaj uwagi dla klienta**
11. **Kliknij "âœ… Finalizuj zamÃ³wienie"**

#### Dalsze kroki dla podÅ‚Ã³g:
7. **SprawdÅº pomiary** (sekcja tylko do odczytu)
8. **WprowadÅº swoje ID**
9. **WypeÅ‚nij dane produktu:**
   - Rodzaj podÅ‚ogi, seria, kolor
   - Folia, listwa przypodÅ‚ogowa
10. **Dodaj uwagi dla klienta**
11. **Kliknij "âœ… Finalizuj zamÃ³wienie podÅ‚Ã³g"**

## ğŸ”’ BezpieczeÅ„stwo

- **Unikalne kody dostÄ™pu** dla kaÅ¼dego formularza
- **Åšledzenie ID** montera i sprzedawcy
- **Znaczniki czasowe** dla kaÅ¼dego etapu
- **NiemoÅ¼noÅ›Ä‡ edycji** pomiarÃ³w przez sprzedawcÄ™
- **Kontrola dostÄ™pu** przez kody

## ğŸ“„ Generowanie PDF

### Po finalizacji zamÃ³wienia:
- **Automatyczny przycisk pobierania PDF** pojawia siÄ™ po ukoÅ„czeniu
- **Stylowy dokument** z logo firmy i profesjonalnym formatowaniem
- **Kompletne dane** od montera i sprzedawcy w jednym dokumencie

### ZawartoÅ›Ä‡ PDF:
#### Dla drzwi:
- Informacje podstawowe (klient, kontakt, data)
- Pomiary otworu (wymiary, specyfikacja)
- Dane techniczne (typ, oÅ›cieÅ¼nica, strona otwierania)
- **ğŸ¨ DIAGRAM DRZWI** - wizualna ilustracja kierunku otwierania
- Dane produktu (producent, seria, zamek, klamka)
- Uwagi i opcje dodatkowe
- Historia wykonawcÃ³w (monter, sprzedawca, daty)

#### Dla podÅ‚Ã³g:
- Informacje podstawowe (klient, kontakt, data)
- System montaÅ¼u i specyfikacja
- Pomiary listw (szczegÃ³Å‚owy breakdown)
- Dane produktu (rodzaj, seria, kolor, folia)
- Uwagi i ostrzeÅ¼enia
- Historia wykonawcÃ³w

### DostÄ™p do PDF:
1. **Po finalizacji** - przycisk pojawia siÄ™ automatycznie
2. **W przeglÄ…d danych** - dla kaÅ¼dego rekordu osobno
3. **Format nazwy:** `typ_pomieszczenie_data_ID.pdf`

## ğŸ“Š Raporty i analiza

System umoÅ¼liwia analizÄ™:
- **Czas wykonania** pomiarÃ³w vs sprzedaÅ¼y
- **EfektywnoÅ›Ä‡** montera/sprzedawcy
- **Najpopularniejsze produkty**
- **Statystyki** wedÅ‚ug regionÃ³w/montera
- **Dokumenty PDF** do archiwizacji i wysyÅ‚ki

## ğŸ› ï¸ Instalacja dodatkowych pakietÃ³w

```bash
# Zainstaluj wymagane pakiety
pip install reportlab qrcode[pil] firebase-admin

# Test generatora PDF (opcjonalnie)
python test_pdf.py
```

### ğŸ¨ Nowe funkcje w PDF:

#### **Ilustracje drzwi:**
- **Automatyczne rysowanie** diagramÃ³w kierunku otwierania
- **Kolorowe strzaÅ‚ki** pokazujÄ…ce ruch drzwi
- **ZÅ‚ota klamka** w odpowiedniej pozycji
- **Etykiety** z opisem (LEWE/PRAWE PRZYLGOWE/ODWROTNA)

#### **Polskie znaki:**
- **Automatyczna konwersja** problematycznych znakÃ³w
- **Fallback system** dla rÃ³Å¼nych fontÃ³w systemowych
- **Bezpieczne kodowanie** UTF-8 gdzie to moÅ¼liwe

#### **PrzykÅ‚ady diagramÃ³w:**
- ğŸšª **Lewe przylgowe** - Å‚uk otwierania w lewo z przodu
- ğŸšª **Prawe przylgowe** - Å‚uk otwierania w prawo z przodu  
- ğŸšª **Lewe odwrotna** - Å‚uk otwierania w lewo do tyÅ‚u
- ğŸšª **Prawe odwrotna** - Å‚uk otwierania w prawo do tyÅ‚u

---

**Potrzebujesz pomocy?** Skontaktuj siÄ™ z administratorem systemu.